# Cancellation

Without a [guard digit](/concept/guard-digit), the relative error committed when subtracting two nearby quantities can be very large. In other words, the evaluation of any expression containing a subtraction (or an addition of quantities with opposite signs) could result in a relative error so large that all the digits are [meaningless](/theorem/1). When subtracting nearby quantities, the most significant digits in the operands match and cancel each other.

## Catastrophic cancellation

**Catastrophic cancellation** occurs when the operands are subject to rounding errors. For example, the quadratic formula ($$\frac{-b \pm \sqrt{b^2 - 4ac}}{2a}$$) contains the expression $$b^2 - 4ac$$, where the quantities $$b^2$$ and $$4ac$$ are subject to [rounding errors](/concept/rounding) since they are the results of floating-point multiplications. Suppose that they are rounded to the nearest floating-point number, and are therefore accurate to within $$.5$$ [ulp](/concept/ulp). When they are subtracted, cancellation can cause many of the accurate digits to disappear, leaving behind a higher proportion of digits contaminated by rounding error. Therefore, the difference may have an error of several ulps. 

For example, consider $$b = 3.34, a = 1.22, c = 2.28$$. The exact value of $$b^2 - 4ac$$ is $$.0292$$, but $$b^2$$ rounds to $$11.2$$ and $$4ac$$ rounds to $$11.1$$, yielding a final result of $$.1$$ which is an error of $$70$$ ulps. The subtraction did not introduce any error, but rather exposed the error introduced in the earlier multiplications.

## Benign cancellation

Benign cancellation occurs when subtracting exactly known quantities. If $$x$$ and $$y$$ have no rounding error, then by [subtracting with a guard digit](/theorem/2), the difference x-y has a very small relative error (less than 2).

A formula that exhibits catastrophic cancellation can sometimes be rearranged to eliminate the problem. Again consider the quadratic formula